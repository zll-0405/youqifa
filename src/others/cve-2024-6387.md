---
category:
  - 其他
tag:
  - 信息
title: CVE-2024-6387 漏洞概述 & 解决方案
description: CVE-2024-6387 漏洞是怎么引发的，对哪些系统有影响，该如何解决
---

## CVE-2024-6387 是什么

CVE-2024-6387 是一个严重的安全漏洞，影响了 OpenSSH 服务器(sshd)。这个漏洞允许未经身份验证的远程攻击者在基于 glibc 的 Linux 系统上以 root 权限执行任意代码

## CVE-2024-6387 主要特点和影响

漏洞源于 OpenSSH 服务器中的信号处理程序条件竞争问题

影响范围包括 OpenSSH 版本小于 4.4p1，以及 8.5p1 到 9.8p1 之间的版本

在开启了地址空间布局随机化(ASLR)的系统上，攻击者平均需要 6-8 小时才能成功利用此漏洞

该漏洞可能被用于扩展僵尸网络、挖矿，或被 APT 攻击者用于网络渗透

## CVE-2024-6387 修复建议

及时将 OpenSSH 升级到最新版本（9.8p1 或更高）

对于非滚动发行版，可以应用官方提供的安全补丁，而不必升级到最新版本

采取额外的安全措施，如限制 SSH 监听地址、使用防火墙和 fail2ban 等工具来加强防护

监控相关网络流量和连接，关注内存崩溃事件和日志

考虑关闭不必要的 SSH 端口（默认 22），限制 SSH 访问 IP 范围，定期重置长时间连接

需要注意的是，虽然利用这个漏洞需要一定时间，但不应低估其潜在危险性。建议系统管理员尽快采取措施来保护其系统免受此漏洞的影响

## CVE-2024-6387 对哪些系统有影响

- 基于 glibc 的 Linux 系统：这是受影响最严重的系统类型，因为漏洞允许在这些系统上以 root 权限执行未经身份验证的远程代码

- 32 位 Linux/glibc 系统：在这些系统上，漏洞的利用已经得到证实。攻击者平均需要 6-8 小时的连续连接才能成功利用

- 64 位 Linux 系统：虽然也受影响，但由于地址空间布局随机化（ASLR）更强，利用难度更大

- macOS 和 Windows：这些系统也可能受到影响，但目前漏洞在这些平台上的可利用性尚未得到证实，需要进一步分析

需要注意的是：

OpenBSD 系统不受影响，因为它们包含了阻止该漏洞的安全机制

CentOS 7 由于版本较旧，可能避过了这个漏洞

## 如何验证自己电脑的 OpenSSH 是否受到影响

1 检查 OpenSSH 版本：

在终端中运行以下命令：

`ssh -V`

命令运行完毕之后，你能看到自己电脑安装的 OpenSSH 版本

2 比对受影响版本：

如果你的版本在以下范围内，则可能受到影响：

8.5p1 <= OpenSSH < 9.8p1

OpenSSH < 4.4p1（如果未修复 CVE-2006-5051）

3 检查操作系统：

该漏洞主要影响基于 glibc 的 Linux 系统。如果您使用的是 OpenBSD 或其他非 Linux 系统，受影响的可能性较小

4 查看安全更新：

检查您的操作系统是否已经发布了针对此漏洞的安全更新。例如：

Ubuntu 用户可以查看 USN-6859-1 安全通知

Debian 用户可以查看安全跟踪器

5 检查补丁版本：

对于非滚动发行版，即使 OpenSSH 的主版本号没有变化，也可能已经通过补丁修复了漏洞。检查版本号的后缀，例如：

Debian: 1:9.2p1-2+deb12u3

Ubuntu: 1:8.9p1-3ubuntu0.10

6 考虑系统架构：

32 位 Linux/glibc 系统更容易受到影响，而 64 位系统由于更强的地址空间布局随机化（ASLR），利用难度更大

7 检查系统日志：

查看系统日志中是否有与 SSH 相关的异常记录或崩溃报告。

如果您发现您的系统可能受到影响，建议采取以下措施：

立即更新到最新的 OpenSSH 版本（9.8p1 或更高）

如果无法立即更新，可以考虑限制 SSH 访问，例如使用 VPN 或防火墙规则

实施额外的安全措施，如网络分段和基于网络的访问控制

以上，感谢您的阅读